基于CNN技术处理的图片数据下的城市空间研究
——以深圳市为例

Introduction


## 01 研究目的

- 做什么：通过语义分割技术，进行基于街景图片数据的城市空间研究。进一步解释，通过对城市街景的图像识别，来量化城市如基础设施、绿化率、开阔程度的数据。	

- Why This：对CNN、深度学习技术对运用；街景图片成为短期内被高度重视对城市数据源；
传统城市街道空间品质测量，主要是利用主观评价研究，无法进行小尺度的量化度量。通过街景地图数据源的大数据处理，可以大规模精细化的量化城市。

- 有潜力研究方向：城市意象识别、城市空间品质评价、旅游路线推荐、可步行性评价、城市活力评价、绿化水平分析、街道天空开阔度评价、

- 规划设计应用场景：关键城市指标评价、方案辅助生成（步行系统、绿化系统、空间结构）、方案实施效果评价

## 02 研究范围

深圳市各个区域（如龙岗区、福田区）之间的城市空间研究。

## 03 研究方法

- 通过城市间对比，来确定新城的建设指标。如：深圳下一个发展阶段是创新型城市，那么同期的创新型城市上海的基础设施达到什么水平。
- 通过城市内的区域对比，来发现城市建设的不足之处。如：龙岗作为深圳发展的新城，基础设施和人行活力与福田区有多大差距。

## 05 数据来源与所用工具

- 数据来源：
- 街景地图。百度、腾讯地图提供API接口。数据有空间和时间维度。
- CNN训练好的模型框架。
- Cityskype，街景分割网络训练数据库
- Flickr等图片网站

- 所用工具
	- ArcGIS，空间分析与统计。获取城市道路坐标点。
	- Mxne， pyTorch, TensorFlowt。搭建深度学习网络训练图片。
	- Datamap，可视化工具。城市地图Datamap是一款由地产、规划、城市研究等行业用户定义出的数据产品，是一个标准化数据工作平台，同时具备高度定制化能力。

## 06 技术路线

- 获取图片数据
	- 获取深圳路网并完善路网。通过Argis获取所要街景静态图坐标经纬信息。暂定取路网上每50米一个坐标点经纬度信息。
	- 通过百度地图或腾讯地图API，批量获取坐标位置的街景静态图。


- 提取语义分割特征
	-利用 CitySkype 数据库中街景图片、街景语义图层作为训练数据（5000+对精细标注图片），训练街景语义分割网络模型 （备选框架：tensorflow，MXnet，可能采用网络：SegNet，DeepLab）
CitySkype 语义数据范例
	-将 API 获取街景图片作为输入，通过上一步完成的分割网络，获取深圳静态街景的像素级语义图层
	- 暂定12个标签分别是：Sky, Building, Pole, Road Marking, Road, Pavement, Tree, Sign Symbol, Fence, Vehicle, Pedestrian, Bike

- 基于pix2pix构建图像生成模型
- 获取其他城市的街景数据(例如cityscape数据集或者其他城市数据集)
- 用训练得到深圳街景数据语义图层作为输入到G模型中，输出生成新风格的街道街道接近图片（得到不同城市风格的合成图片）


- 数据统计	
-分别统计标注类别的像素数量占比，提取作为该类别的特征以供分析

- 数据可视化
	- 统计结果包含经纬度信息，可以精确落点到城市街道上。
	- 直观观察不同街道中的绿化率等级分布、开阔程度分布等。
	
- 网络 deeplab V3

## 09 参考文献
[1] Chen Q, Koltun V. Photographic image synthesis with cascaded refinement networks[C]//IEEE International Conference on Computer Vision (ICCV). 2017, 1(2): 3.



